/* =========================
   SmartHome Dashboard ‚Äî Full Width + Stable OTP Rows
   ========================= */

/* Theme */
:root{
  --panelTopOffset: 140px;      
  --vhPanel: calc(100dvh - var(--panelTopOffset));
  --bg1:#0b1022; --bg2:#1a2142; --txt:#eef2ff; --muted:#a8b0c7;
  --brandA:#22d3ee; --brandB:#6366f1; --accent:#10b981; --danger:#ef4444; --warn:#f59e0b;
  --border:rgba(255,255,255,.15);
  --glowA: rgba(99,102,241,.35);
}

*{box-sizing:border-box}
html,body{height:100%}

/* Background layers */
html, body { background:#0b1022; }
body{
  margin:0; font-family:Poppins,system-ui,Segoe UI,Roboto,sans-serif; color:var(--txt);
  min-height:100dvh; overflow-x:hidden; background:none !important;
}
body::before{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1400px 900px at 120% -20%, rgba(99,102,241,.22), transparent 65%),
    radial-gradient(1200px 800px at -20% 120%, rgba(34,211,238,.18), transparent 60%),
    linear-gradient(140deg, var(--bg1) 0%, var(--bg2) 100%);
}
body::after{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    repeating-linear-gradient(0deg,  rgba(255,255,255,.010) 0 2px, transparent 2px 4px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.010)   0 2px, transparent 2px 4px);
  mix-blend-mode: overlay; opacity:.22;
}

/* Orbs */
.orb{position:fixed;border-radius:50%;filter:blur(90px);opacity:.36;z-index:0;pointer-events:none}
.orb-1{width:560px;height:560px;left:-200px;top:-160px;background:var(--brandB)}
.orb-2{width:600px;height:600px;right:-220px;bottom:-200px;background:var(--brandA)}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:10;
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
  backdrop-filter:blur(16px) saturate(160%); -webkit-backdrop-filter:blur(16px) saturate(160%);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 22px; box-shadow:0 10px 40px rgba(0,0,0,.38);
}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.actions{display:flex;align-items:center;gap:12px}
.status-pill{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:rgba(255,255,255,.06)}

/* Container */
.container{
  position:relative; z-index:1;
  padding:20px 22px;
  display:grid; gap:18px;
  width:100%; max-width:none; margin:0;
  background:transparent;
}

/* Panels */
.panel{
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(14px) saturate(160%); -webkit-backdrop-filter: blur(14px) saturate(160%);
  border:1px solid var(--border);
  border-radius:18px; padding:18px;
  box-shadow:0 10px 36px rgba(0,0,0,.38);
}
.panel:hover{ box-shadow:0 16px 46px rgba(0,0,0,.45) }
.panel-head{display:flex;align-items:center;gap:12px;margin-bottom:12px}
.panel-head.between{justify-content:space-between}
.panel-quick{display:grid; gap:14px}
.hr-soft{border:0;height:1px;background:rgba(255,255,255,.12);margin:14px 0}

/* Grid */
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
.grid>.panel{grid-column:span 12}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:10px 14px;border-radius:12px;border:1px solid var(--border);
  cursor:pointer;transition:transform .06s, box-shadow .25s, color .2s; color:#fff;
}
.btn:hover{box-shadow:0 12px 26px rgba(99,102,241,.28)}
.btn:active{transform:translateY(1px)}
.btn.ok{background:linear-gradient(90deg,var(--accent),#34d399)}
.btn.warn{background:linear-gradient(90deg,var(--warn),#fbbf24);color:#121212}
.btn.danger{background:linear-gradient(90deg,#f43f5e,#ef4444)}
.btn.ghost{background:transparent;color:var(--txt)}
.btn.small{padding:6px 10px;border-radius:10px}

/* Door hero button */
.btn-xl{width:100%;padding:18px;border-radius:16px;font-weight:800;letter-spacing:.2px;box-shadow:0 16px 48px var(--glowA)}
.btn-xl.unlocked{background:linear-gradient(90deg,#22d3ee,#6366f1)}
.btn-xl.locked{background:linear-gradient(90deg,#f43f5e,#ef4444)}

/* Inputs */
.row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.gap{gap:12px}
.input, .field input, .field select{
  background:rgba(255,255,255,.08); border:1px solid var(--border);
  border-radius:12px; padding:10px 12px; color:var(--txt); min-width:160px;
}
.field{display:grid;gap:6px}
.label{font-size:12px;color:var(--muted)}


/* Lists & Tables */
.list{display:grid;gap:10px;margin-top:12px}
.table-wrap{overflow:auto; max-height:40vh; -webkit-overflow-scrolling:touch}
#logTable{width:100%;border-collapse:collapse}
#logTable th, #logTable td{padding:12px;border-bottom:1px solid rgba(255,255,255,.08);text-align:left}
#logTable th{color:#cbd5ff;font-weight:700}

/* Toasts */
.toast-host{position:fixed;right:18px;bottom:18px;display:grid;gap:10px;z-index:50}
.toast{background:rgba(17,24,39,.92);color:#fff;border:1px solid rgba(255,255,255,.15);padding:10px 12px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.4)}

/* Small helpers */
.small{font-size:12px}
.muted{color:var(--muted)}
.link{color:#cbd5ff;text-decoration:underline}
.tag{padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid var(--border);font-size:12px}

/* ===== OTP: fixed-height rows & aligned cancel button ===== */
.otp-list{ display:grid; gap:12px; margin-top:12px; }

.otp-item{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; padding:12px 14px;
  min-height:72px;                 /* ‚úÖ ‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ï‡∏•‡∏≠‡∏î */
  border:1px solid var(--border); border-radius:12px;
  background:rgba(255,255,255,.05);
}

.otp-item .info{
  flex:1; display:flex; flex-direction:column; gap:4px; overflow:hidden;
}
.otp-item .info strong{ font-size:15px; color:#fff; }
.otp-comment{ font-size:13px; color:var(--muted); font-style:italic; }

/* Cancel button aligned & equal width */
.btn-otp-cancel{
  background: linear-gradient(90deg,#ef4444,#dc2626);
  color:#fff; font-weight:600; border:0; border-radius:999px;
  padding:6px 16px; min-width:100px; text-align:center;
  flex-shrink:0; align-self:center;
  box-shadow:0 4px 14px rgba(239,68,68,.35);
  cursor:pointer; transition: transform .08s, box-shadow .2s, background .2s;
}
.btn-otp-cancel:hover{ background:linear-gradient(90deg,#f87171,#dc2626) }
.btn-otp-cancel:active{ transform:translateY(1px) }
.btn-otp-cancel::before{ content:"üóëÔ∏è "; }

/* Clear-history button */
#btnClearOtpHistory{
  border:1px solid var(--border); padding:6px 12px; border-radius:10px;
  cursor:pointer; font-size:13px; background:transparent; color:var(--txt);
  transition: background .2s;
}
#btnClearOtpHistory:hover{ background:rgba(255,255,255,.10) }

/* ===== Scroll behavior: OTP panel doesn‚Äôt stretch page ===== */
.grid{ align-items:start; }
/* ===== OTP Panel ===== */

.otp-panel > .row{ flex:0 0 auto; margin-bottom:14px; }

.otp-panel .otp-scroll{
  flex:1 1 auto; min-height:0;
  overflow-y:auto; padding-right:6px;
  -webkit-overflow-scrolling:touch;
  display:flex; flex-direction:column; gap:16px; /* ‚úÖ ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á otpList / history */
}
.history-panel .table-wrap{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
}
/* otp list container */
.otp-list{
  display:grid; gap:12px;
  margin:0; /* ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ä‡∏ô input */
}

/* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ otp */
.otp-empty{
  padding:20px; text-align:center;
  font-size:14px; color:var(--muted);
  border:1px dashed var(--border); border-radius:10px;
  background:rgba(255,255,255,.03);
}

/* otp-item */
.otp-item{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; padding:12px 14px;
  min-height:72px;
  border:1px solid var(--border); border-radius:12px;
  background:rgba(255,255,255,.05);
}



/* Scrollbars */
.otp-panel .otp-scroll::-webkit-scrollbar,
.table-wrap::-webkit-scrollbar{ width:10px; height:10px }
.otp-panel .otp-scroll::-webkit-scrollbar-thumb,
.table-wrap::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.18); border-radius:999px }

/* ---------- QUICK PANEL (‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏î‡πà‡∏ß‡∏ô) ---------- */
.quick-panel { display:grid; gap:14px; }

.quick-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px;
}
.quick-title{ display:flex; align-items:center; gap:12px }
.quick-title .spark{ font-size:22px; filter:drop-shadow(0 6px 16px rgba(255,255,255,.25)) }
.quick-title .title{ margin:0; font-size:20px; font-weight:700 }
.quick-title .subtitle{ margin:2px 0 0; color:var(--muted); font-size:13px }
.kbd{
  display:inline-block; padding:2px 6px; border-radius:6px;
  border:1px solid var(--border); font-size:12px;
  background:rgba(255,255,255,.06)
}

.quick-actions-right{ display:flex; align-items:center; gap:10px }
.status-chip{
  display:inline-flex; align-items:center; gap:10px;
  padding:8px 12px; border:1px solid var(--border);
  border-radius:999px; background:rgba(255,255,255,.06);
  font-size:13px
}
.status-chip .dot{
  width:8px; height:8px; border-radius:50%; background:#9aa1b3;
  box-shadow:0 0 0 4px rgba(154,161,179,.18) inset
}

.quick-grid{
  display:grid; grid-template-columns:1.2fr .8fr; gap:14px; align-items:stretch
}
@media (max-width: 900px){
  .quick-grid{ grid-template-columns:1fr; }
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏Æ‡∏µ‡πÇ‡∏£‡πà (‡∏™‡∏•‡∏±‡∏ö‡∏•‡πá‡∏≠‡∏Å/‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å) */
.door-hero{
  position:relative; display:flex; align-items:center; gap:16px;
  width:100%; padding:18px 20px; border-radius:16px; border:1px solid var(--border);
  cursor:pointer; overflow:hidden; isolation:isolate; color:#fff;
  box-shadow:0 16px 48px var(--glowA); transition:transform .08s, box-shadow .25s, filter .2s
}
.door-hero:hover{ box-shadow:0 20px 58px rgba(99,102,241,.45) }
.door-hero:active{ transform: translateY(1px); filter:saturate(1.05) }

.door-hero.is-unlocked{ background:linear-gradient(90deg, #22d3ee, #6366f1) }
.door-hero.is-locked   { background:linear-gradient(90deg, #ef4444, #dc2626) }

.door-hero__icon{
  width:54px; height:54px; border-radius:14px; display:grid; place-items:center;
  background:rgba(0,0,0,.18); border:1px solid rgba(255,255,255,.22);
  box-shadow:inset 0 8px 22px rgba(0,0,0,.25), 0 6px 18px rgba(0,0,0,.25);
  font-size:24px
}
.door-hero__text{ display:grid; gap:4px; text-align:left }
.door-hero__label{ font-weight:700; letter-spacing:.2px }
.door-hero__label .sep{ opacity:.7; padding:0 6px }
.door-hero__meta{ font-size:12px; opacity:.9 }

.door-hero__shine{
  position:absolute; inset:-40% -10% auto -10%;
  height:240%; transform:rotate(8deg);
  background:radial-gradient(closest-side, rgba(255,255,255,.28), rgba(255,255,255,0));
  mix-blend-mode:soft-light; pointer-events:none
}

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á (‡πÇ‡∏´‡∏°‡∏î/‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î) */
.quick-side{ display:grid; gap:12px }
.card-row{ display:grid; grid-template-columns:1fr 1fr; gap:12px }
@media (max-width: 600px){ .card-row{ grid-template-columns:1fr } }

.mini-card{
  background:rgba(255,255,255,.06); border:1px solid var(--border);
  border-radius:14px; padding:12px
}
.mini-card__head{ font-weight:600; margin-bottom:8px }
.mini-card__body{ display:flex; align-items:center; gap:10px }

.kbd-list{ display:grid; grid-template-columns:auto 1fr; gap:6px 10px; align-items:center }
.kbd-desc{ font-size:13px; color:var(--muted) }

.note{ color:var(--muted) }

/* ‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏™‡∏ß‡∏¢‡πÜ */
.switch-wrap{ display:inline-flex; align-items:center; gap:10px; cursor:pointer }
.switch-wrap input{ appearance:none; width:0; height:0; position:absolute; opacity:0 }
.switch{
  position:relative; width:48px; height:28px; border-radius:999px; background:#9aa1b3; transition:.18s
}
.switch::after{
  content:""; position:absolute; top:3px; left:3px; width:22px; height:22px;
  border-radius:50%; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,.25); transition:.18s
}
.switch-wrap input:checked + .switch{ background:var(--accent) }
.switch-wrap input:checked + .switch::after{ transform:translateX(20px) }
.switch-label{ font-size:13px }

/* ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÄ‡∏•‡πá‡∏Å */
.btn.small{ padding:6px 10px; border-radius:10px; font-size:12px }
.btn.ghost{ background:transparent; border:1px solid var(--border); color:var(--txt) }
/* Status chip dot states */
.status-chip .dot{ background:#9aa1b3; }
.status-chip .dot.dot--ok{
  background:#10b981;
  box-shadow:0 0 0 4px rgba(16,185,129,.18) inset;
}
.status-chip .dot.dot--bad{
  background:#ef4444;
  box-shadow:0 0 0 4px rgba(239,68,68,.18) inset;
}
/* ===== Pretty Confirm Modal ===== */
.modal.hidden{ display:none }
.modal{
  position:fixed; inset:0; z-index:60;
  display:grid; place-items:center;
}
.modal__backdrop{
  position:absolute; inset:0;
  background: rgba(2,6,23,.55);
  backdrop-filter: blur(8px) saturate(140%);
  -webkit-backdrop-filter: blur(8px) saturate(140%);
  animation: fadeIn .18s ease;
}
.modal__dialog{
  position:relative;
  width:min(92vw, 460px);
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.15);
  border-radius:18px;
  padding:18px;
  box-shadow:0 30px 120px rgba(0,0,0,.55);
  transform: translateY(6px) scale(.98);
  opacity:0;
  animation: popIn .22s ease forwards;
}
@keyframes popIn{
  to{ transform:none; opacity:1 }
}
.modal__head{
  display:flex; align-items:center; gap:12px; margin-bottom:8px;
}
.modal__icon{
  width:36px; height:36px; border-radius:10px;
  display:grid; place-items:center; font-size:18px;
  background:linear-gradient(135deg,#22d3ee33,#6366f133);
  border:1px solid rgba(255,255,255,.18);
}
.modal__title{ margin:0; font-weight:700 }
.modal__msg{ margin:10px 0 16px; color:var(--muted) }
.modal__actions{
  display:flex; justify-content:flex-end; gap:10px;
}
.modal__actions .btn{ min-width:110px }
/* ‡∏Å‡∏•‡πà‡∏≠‡∏á OTP Panel ‡πÅ‡∏•‡∏∞ Camera Panel ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
.otp-panel,
.history-panel   /* ‚Üê ‡∏ï‡∏±‡πâ‡∏á class ‡πÉ‡∏´‡πâ panel ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô */
{
  min-height: var(--vhPanel);
  max-height: var(--vhPanel);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ‡πÉ‡∏´‡πâ otp-list ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô */
.otp-panel .otp-scroll {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  padding-right: 6px;
}

/* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô otp-item ‡∏î‡∏±‡∏ô panel ‡∏¢‡∏∑‡∏î */
.otp-list {
  display: grid;
  gap: 12px;
}
/* ====== Full-height Panels (OTP & History & Camera) ====== */
/* ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß/‡∏Ç‡∏≠‡∏ö‡∏ö‡∏ô (‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡∏Å‡∏±‡∏ö topbar ‡∏Ç‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á) */
:root{
  --panelTopOffset: 140px;
  --vhPanel: calc(100dvh - var(--panelTopOffset));
}

/* ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡∏û‡∏≤‡πÄ‡∏ô‡∏•‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ (‡∏´‡∏±‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß) */
.otp-panel,
.history-panel{
  min-height: var(--vhPanel);
  max-height: var(--vhPanel);
  display: flex;
  flex-direction: column;
  overflow: hidden;       /* ‚úÖ ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ‡πÑ‡∏°‡πà‡∏î‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
}

/* ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô OTP ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ */
.otp-panel .otp-scroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  padding-right: 6px;
  -webkit-overflow-scrolling: touch;
}

/* ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô HISTORY ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
.history-panel .table-wrap{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
}

/* ‡∏Å‡∏±‡∏ô grid ‡∏î‡∏±‡∏ô‡∏¢‡∏∑‡∏î */
.grid{ align-items: start; }